<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1{
            text-align: center;
            font: 35px verdana;
            text-transform: uppercase;
        }
        h3{
            text-align: center;
            font: 25px verdana;
            text-transform: capitalize;
        }
        .btn{
            text-align: center;
            margin: 30px;
        }
        button{
            font: 20px sans-serif;
            padding: 10px 20px;
            margin: 20px;
            border-radius: 10px;
        }
        button:hover{
            background-color: black;
            color: whitesmoke;
        }
        .Expression{
            padding: 10px;
            text-align: center;
        }
        .Expression>span{
            font: 30px tahoma;
            padding: 15px 10px;

        }
        .Expression>input{
            font: 30px tahoma;
            width: 40px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="head">
        <h1>Maths Game</h1>
    </div>
    <hr>
    <div class="tag">
        <h3>Name : <span id="name"></span></h3>
        <h3>Points : <span id="points">0</span></h3>
        <div class="btn">
            <button onclick=" clearAllpoints()">Clear points</button> 
            <button onclick="clearAll()">Clear All Data</button>
        </div>
    </div>
    <hr>
    <div class="Expression">
        <span id="num1"> 
            0
        </span>
        <span id="operator"> 
            +
        </span>
        <span id="num2"> 
            0
        </span>
        <span> 
            =
        </span>
        <input type="text" id="userAns" >
        <button id="check" onclick="checkAnswer()">check</button>
    </div>

    <script>
        let name = localStorage.getItem("name");
        let points = localStorage.getItem("points")
        let num1 = document.getElementById("num1").innerHTML;
        let num2 = document.getElementById("num2").innerHTML;
        let operator;
        createQuestion();

        document.getElementById("name").innerHTML= name;
        document.getElementById("points").innerHTML= points;

        while(name == null || name == ""){
            if (name == null || name == "") {
                name = prompt("please enter your name");
                localStorage.setItem("name", name);
                document.getElementById("name").innerHTML= name;

                points = 0
                localStorage.setItem("points",points)
                document.getElementById("points").innerHTML = points;
            }
        }

        function createQuestion(){
            num1 = Math.floor(Math.random()*10) + 1;
            num2 = Math.floor(Math.random()*10) + 1;

            if(num1 > num2){
                operator = " - "
                document.getElementById("operator").innerHTML = " - "
            }else if (num1 < num2){
                operator = " + "
                document.getElementById("operator").innerHTML = " + "
            }else{
                operator = " x "
                document.getElementById("operator").innerHTML = " x "
            }
            document.getElementById("num1").innerHTML = num1;
            document.getElementById("num2").innerHTML = num2;
            document.getElementById("operator").innerHTML = operator;
        }

        function clearAll(){
            localStorage.clear();
            window.location.href = "";
        }

        function clearAllpoints(){
            localStorage.removeItem("points");
            window.location.href = "";
            points = 0;
        }
        
        function checkAnswer(){
            let operation;
            let userAnswer = document.getElementById("userAns").value;

            if (num1 > num2){
                operation = num1 - num2;

                if (operation == userAnswer){
                    alert("correct, a point more");
                    points = parseInt(points) + 1;
                    localStorage.setItem("points", points);
                    document.getElementById("points").innerHTML = points;
                    createQuestion();
                    document.getElementById("userAns").value = "";
                }else{
                    alert("incorrect, a point less");
                    points = parseInt(points) - 1;
                    localStorage.setItem("points", points);
                    document.getElementById("points").innerHTML = points;
                    createQuestion();
                    document.getElementById("userAns").value = "";
                }
            }else if (num1 < num2){
                operation = num1 + num2;

                if (operation == userAnswer){
                    alert("correct, a point more");
                    points = parseInt(points) + 1;
                    localStorage.setItem("points", points);
                    document.getElementById("points").innerHTML = points;
                    createQuestion();
                    document.getElementById("userAns").value = "";
                }else{
                    alert("incorrect, a point less");
                    points = parseInt(points) - 1;
                    localStorage.setItem("points", points);
                    document.getElementById("points").innerHTML = points;
                    createQuestion();
                    document.getElementById("userAns").value = "";
                }
            }else{
                operation = num1 * num2;
                
                if (operation == userAnswer){
                    alert("correct, a point more");
                    points = parseInt(points) + 1;
                    localStorage.setItem("points", points);
                    document.getElementById("points").innerHTML = points;
                    createQuestion();
                    document.getElementById("userAns").value = "";
                }else{
                    alert("incorrect, a point less");
                    points = parseInt(points) - 1;
                    localStorage.setItem("points", points);
                    document.getElementById("points").innerHTML = points;
                    createQuestion();
                    document.getElementById("userAns").value = "";
                } 
            }
        }


        
              
        
        
    </script>

</body>
</html>