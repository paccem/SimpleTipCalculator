<!DOCTYPE html>
<html>
<head>
	<title>Game Maths</title>
</head>
<body>
	<h1 align="center">Game Maths</h1>
	<h2 align="center">Welcome : <span id="name">Unknown User</span></h2>
	<h2 align="center">Score : <span id="score">0</span></h2>
	<div align="center">
		<button onclick="clearPoint()">Clear Points</button>
		<button onclick="resetAll()">Reset All</button>
	</div>
	<fieldset>
		<div align="center">
			<span id="num1">
				0
			</span>
			<span id="operator">
				+
			</span>
			<span id="num2">
				0
			</span>
			<span>
				=
			</span>
			<input type="number" id="userAnswer">
			<button onclick="checkAnswer()">Check</button>
		</div>
	</fieldset>

	<script>
		let name = localStorage.getItem("name");
		let score = localStorage.getItem("score");
		let num1;
		let num2;
		let operator;
		createQuestion();
		document.getElementById('name').innerHTML = name;
		document.getElementById('score').innerHTML = score;

		document.getElementById('num1').innerHTML = num1;
		document.getElementById('num2').innerHTML = num2;

		while (name == null || name == '') {
			if (name == null || name == '') {
				name = prompt("Please Enter Name");
				localStorage.setItem("name",name);
				document.getElementById('name').innerHTML = name;

				score = 0;
				localStorage.setItem("score",score);
				document.getElementById('score').innerHTML = score;	

			}
		}
		


		function resetAll() {
			localStorage.clear();
			window.location.href="";
		}
		function clearPoint() {
			score = 0;
			localStorage.setItem("score",score);
			document.getElementById('score').innerHTML = score;
			window.location.href="";
		}

		function createQuestion() {
			num1 = Math.floor(Math.random() * 10) +1;
			num2 = Math.floor(Math.random() * 10) +1;
			if (num1 > num2) {
				operator = '-';
			}else {
				operator = '+';
			}
			document.getElementById('num1').innerHTML = num1;
			document.getElementById('operator').innerHTML = operator;
			document.getElementById('num2').innerHTML = num2;
		}

		function checkAnswer() {
			let operation;
			let userAnswer = document.getElementById('userAnswer').value;
			if (operator == '+') {
				operation = num1+num2;

				if (operation == userAnswer) {
					score = parseInt(score) + 1;
					localStorage.setItem("score",score);
					document.getElementById('score').innerHTML = score;	
					alert("Corrcet You Scored 1 More Point");
					createQuestion()
				}else {
					score = parseInt(score) - 1 ;
					localStorage.setItem("score",score);
					document.getElementById('score').innerHTML = score;	
					alert("Worng Answer !!! You Missed 1 Point");
					createQuestion()
				}
				
			}else if (operator == '-') {
				operation =num1-num2;
				if (operation == userAnswer) {
					score = parseInt(score) + 1
					localStorage.setItem("score",score);
					document.getElementById('score').innerHTML = score;	
					alert("Corrcet You Scored 1 More Point");
					createQuestion()
				}else {
					score = parseInt(score) - 1 ;
					localStorage.setItem("score",score);
					document.getElementById('score').innerHTML = score;	
					alert("Worng Answer !!! You Missed 1 Point");
					createQuestion()
				}
			}else{
				alert("Invalid Operation, Please Try Again");
				createQuestion()
			}
		}
		
	</script>
</body>
</html>